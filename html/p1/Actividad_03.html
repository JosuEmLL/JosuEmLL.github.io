<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Actividad 03 - Interpretación y traducción de políticas de filtrado en iptables</title>
  <style>
    html,body{height:100%;margin:0;font-family:Arial,Helvetica,sans-serif;background:#ffffff}
    .wrap{min-height:10vh;display:flex;align-items:flex-start;justify-content:center;padding:12px 20px;box-sizing:border-box}
    .panel{width:90%;max-width:1000px;background:#1a0713;color:#fff;padding:36px;border-radius:8px;box-shadow:0 6px 18px rgba(17, 3, 17, 0.12);text-align:center}
    .panel h1{margin:0;font-size:28px;letter-spacing:1px}
    .panel h2{margin:8px 0 0;font-size:18px;letter-spacing:1px}
    .panel p, .parrafo{margin:8px 0 0;font-size:18px}
    @media(min-width:900px){.panel h1{font-size:32px}}
    .section{width:90%;max-width:1000px;margin:24px auto;padding:20px;background:#f4f6f8;border-radius:2px;box-shadow:0 6px 18px rgba(0,0,0,0.08)}
    .section-title{display:flex;align-items:center;gap:14px;color:#0f0411;font-weight:700;font-size:20px;margin:0}
    .section-title::before{content:"";display:block;width:6px;height:34px;background:#0e050f;border-radius:2px}
    @media(min-width:900px){.section-title{font-size:22px}}
    table {
      overflow-x: auto;
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 40px;
      background-color: #fff;
      width: 100%;
      max-width: 100%;
    }
    td {
      word-wrap: break-word;
      white-space: normal;
      border: 1px solid #ccc;
      padding: 8px 12px;
      text-align: left;
      vertical-align: top;
      margin:8px 0 0;font-size:18px;
    }
    th {
      word-wrap: break-word;
      white-space: normal;
      border: 1px solid #ccc;
      padding: 8px 12px;
      text-align: left;
      vertical-align: top;
      margin:8px 0 0;font-size:21px;
      background-color: #1d091a;
      font-weight: bold;
      color: #fffdfd;;
    }
    tr:nth-child(even) td {
      border-top: 1px solid #ddd;
    }
    a {
      color: #0066cc;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    .btn-pdf {
            display: inline-block;
            background-color: #2563eb;
            color: white;
            padding: 12px 20px;
            text-decoration: none;
            border-radius: 5px;
            margin: 24px auto;
        }
        
        .btn-pdf:hover {
            background-color: #1e40af;
        }
    .citas{
      font-style: italic;
      margin-bottom: 15px;
      background-color: #f9f9f9;
    }
  </style>
</head>
<body>
<div>
  <div class="wrap">
    <div class="panel">
      <h1>Actividad 03</h1>
      <h2>Interpretación y traducción de políticas de filtrado en iptables</h2>
      <p>Lopez Lopez Josué Emmanuel </p>
    </div>
  </div>
  <div class="section">
    <h3 class="section-title">Introducción</h3>
  </div>
<p class="parrafo">En el ambito de Firewall y políticas de filtrado, iptables es una herramienta fundamental en sistemas Linux para configurar reglas de filtrado de paquetes. Esta actividad tiene como objetivo interpretar y traducir políticas de filtrado en iptables, permitiendo comprender cómo se definen las reglas de seguridad en un entorno Linux.</p>
<div class="section">
    <h3 class="section-title">Desarrollo</h3>
  </div>
  <p style="font-size:21px; font-weight:bold;">Flujo de paquetes</p>
  <ul>
    <li><p class="parrafo">Cuando un paquete llega a un sistema, primero pasa por una tabla, después por una cadena y finalmente se ejecuta una acción.</p></li>
  </ul>
  <p style="font-size:21px; font-weight:bold;">Comparativa entre tablas de iptables y su proposito</p>
<table>
    <tr>
      <th>Tabla</th>
      <th>Propósito principal</th>
      <th>Ejemplo de uso</th>
    </tr>
    <tr>
      <td>FILTER</td>
      <td>Filtrado de paquetes</td>
      <td>Permite o deniega paquetes según reglas definidas</td>
    </tr>
    <tr>
      <td>NAT</td>
      <td>Traducción de direcciones de red</td>
      <td>Port forwarding, SNAT, DNAT</td>
    </tr>
    <tr>
      <td>MANGLE</td>
      <td>Modificación de paquetes</td>
      <td>Cambiar cabeceras de paquetes IP</td>
    </tr>
    <tr>
      <td>RAW</td>
      <td>Excepciones al procesamiento de paquetes</td>
      <td>Evita que los paquetes sean procesados por otras tablas de iptables</td>
    </tr>
    <tr>
      <td>SECURITY</td>
      <td>Etiquetas de seguridad de paquetes de Linux</td>
      <td>Seguridad</td>
    </tr>
  </table>
  <p style="font-size:21px; font-weight:bold;">Anatomía de un comando de iptables</p>
  <ul>
    <li><p class="parrafo">iptables -A INPUT -p tcp -m multiport --dport 80,443 -j ACCEPT</p></li>
    <li><p class="parrafo">Este comando permite trafico por protocolos HTTP y HTTPS</p></li>
  </ul>

  <p style="font-size:21px; font-weight:bold;">Variables y opciones comunes de iptables</p>
  <ul>
    <li><p class="parrafo">Limitar intentos por minuto</p>
    <ul><li><p class="parrafo">-- limit s/mv</p></li></ul>
    </li>
    <li><p class="parrafo">Filtrar por IP de origen</p>
    <ul><li><p class="parrafo">-s 192.168.1.0/24</p></li></ul>    
    </li>
    <li><p class="parrafo">Ver solo números, sin DNS</p>
    <ul><li><p class="parrafo">-n</p></li></ul>
    </li>
    <li><p class="parrafo">Ver reglas con contadores (paquetes y bytes)</p>
    <ul><li><p class="parrafo">-L -v</p></li></ul>
    </li>
    </ul>
    <p class="parrafo">Estas opciones permiten personalizar las reglas de iptables para adaptarse a diferentes escenarios de seguridad y tráfico de red.</p>
    <p style="font-size:21px; font-weight:bold;">Ejemplos de reglas iptables</p>
    <ul>
    <li><p class="parrafo">Permite tráfico TCP entrante por la interfaz eth0 a los puertos 2,80,443, siempre que sea parte de una conexión nueva o establecida</p>
    <ul><li><p class="parrafo">iptables -A INPUT -i eth0 -p tcp -m multiport --dport 2,80,443 -m state --state NEW,ESTABLISHED -j ACCEPT</p></li></ul>
    </li>
    <li><p class="parrafo">Permitir tráfico HTTP entrante</p>
    <ul><li><p class="parrafo">iptables -A INPUT -p tcp --dport 80 -j ACCEPT</p></li></ul>
    </li>
    <li><p class="parrafo">Permitir todo tráfico saliente</p>
    <ul><li><p class="parrafo">iptables -A OUTPUT -j ACCEPT</p></li></ul>
    </li>
    <li><p class="parrafo">Permitir SSH solo desde la IP 192.168.1.50</p>
    <ul><li><p class="parrafo">iptables -A INPUT -s 192.168.1.50 -p tcp --dport 22 -j ACCEPT</p></li></ul>
    </li>
    <li><p class="parrafo">Permitir tráfico TCP entrante a puertos 80 y 443 solo si es conexión establecida o relacionada</p>
    <ul><li><p class="parrafo">iptables -A INPUT -p tcp -m multiport --dport 80,443 -m state --state ESTABLISHED,RELATED -j ACCEPT</p></li></ul>
    </li>
    <li><p>Permitir tráfico TCP entrante por eth0 a 22, 80 y 443, registrar intentos y permitir solo NEW y ESTABLISHED</p>
    <ul><li><p class="parrafo">iptables -A INPUT -i eth0 -p tcp -m multiport --dport 22,80,443 -m state --state NEW,ESTABLISHED -j log --LOG -prefix "Registros: " -j ACCEPT</p></li></ul>
    </li>
    </ul>
    <div class="section">
        <h3 class="section-title">Reflexiones del Alumno</h3>
    </div>
        <p class="parrafo">Las reglas iptables son una herramienta fundamental para la gestión del tráfico de red en sistemas Linux. Permiten controlar el acceso a los servicios del sistema mediante reglas específicas que definen qué paquetes se permiten o deniegan.</p>
        <p class="parrafo">Me interesó especialmente cómo se pueden aplicar estas reglas para proteger servicios críticos como SSH, HTTP y HTTPS, y cómo se pueden registrar intentos de acceso para auditoría de seguridad.</p>
    <div class="section">
        <h3 class="section-title">Referencias Tecnicas</h3>
    </div>    
      <p class="citas" style="font-size: 16px;">Bauer, M. (2021). <em>Linux iptables: A complete guide to packet filtering</em>. Packt Publishing.</p>
      <p class="citas" style="font-size: 16px;">Nemeth, E., Snyder, G., Hein, T. R., Whaley, B., & Mackin, D. (2017). <em>Unix and Linux system administration handbook</em> (5th ed.). Pearson Education.</p>
      <p class="citas" style="font-size: 16px;">Red Hat. (2023). <em>Using iptables in Red Hat Enterprise Linux</em>. Red Hat Documentation. 
        <a href="https://access.redhat.com/documentation" target="_blank">https://access.redhat.com/documentation</a></p>
      <p class="citas" style="font-size: 16px;">Netfilter Project. (2024). <em>iptables man page</em>. Netfilter.org. 
        <a href="https://www.netfilter.org/projects/iptables" target="_blank">https://www.netfilter.org/projects/iptables</a></p>
      <p class="citas" style="font-size: 16px;">Ziegler, C. (2020). <em>Mastering Linux security and hardening</em>. Packt Publishing.</p>
    <div class="section">
        <h3 class="section-title">Exportar a PDF</h3>
    </div>
    <div style="margin:24px auto;width: 100%; text-align: center; font-size: 16px;" >
        <a  href="182078-act03.pdf" download>
                <button class="btn-pdf">
                    Descargar
                </button>
        </a>
    </div>
</div>
</body>
</html>